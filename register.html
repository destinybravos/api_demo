<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
</head>
<body>
    
    <form id="frm_reg">
        <div id="error_alert" style="color: red; font-style: italic; font-size: 0.8rem;">

        </div>
        <input type="text" id="fname" placeholder="Firstname"> <br>
        <input type="text" id="lname" placeholder="Lastname"> <br>
        <input type="email" id="email" placeholder="Email"> <br>
        <input type="tel" id="phone" placeholder="Phone Number"> <br>
        <input type="password" id="pass" placeholder="Password"> <br>
        <button type="submit">
            Register
        </button>
    </form>

    <script src="http://localhost/js_tutorial_repo/js/jquery.js"></script>

    <script>
        $('#frm_reg').on('submit', function (e) {
            e.preventDefault();
            $fname = $('#fname').val();
            $lname = $('#lname').val();
            $phone = $('#phone').val();
            $email = $('#email').val();
            $pass = $('#pass').val();
            
            let data = {
                firstname: $fname,
                lastname: $lname,
                email: $email,
                phone: $phone,
                password: $pass,
            }

            $.ajax({
                type: 'post',
                url: 'http://localhost/api_demo/api/register.php',
                data: data,
                dataType: 'json',
                success: function(res){
                    if(res.status == 'success'){
                        window.location.href = 'http://localhost/api_demo/login.html'
                    }else{
                        $('#error_alert').text(res.message)
                    }
                }
            });
        });


        
    </script>
</body>
</html>